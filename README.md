# **Курс Bash с теорией и практикой**

### **Уровень 1: Основы команд и терминала**

**Цель:** освоить Bash, терминал, работу с файлами и переменные.

**Теория и задачи:**

1. [Введение в Bash: что такое оболочка, зачем нужна, типы оболочек](./level_1/task_1/theory.md)
2. [Терминал Linux и Windows (WSL, PowerShell)](./level_1/task_2/theory.md)
3. [Навигация по файловой системе: `pwd`, `cd`, `ls`, `tree`](./level_1/task_3/theory.md)
4. [Работа с каталогами: `mkdir`, `rmdir`, `rm -r`](./level_1/task_5/theory.md)
5. [Работа с файлами: `touch`, `rm`, `cp`, `mv`](./level_1/task_4/theory.md)
6. [Просмотр содержимого файлов: `cat`, `less`, `more`, `head`, `tail`](./level_1/task_6/theory.md)
7. [Перенаправление вывода: `>`, `>>`, `<`, `2>`, `&>`](./level_1/task_7/theory.md)
8. [Пайпы: `|`](./level_1/task_8/theory.md)
9. Переменные Bash: создание, использование, экспорт
10. Специальные переменные: `$?`, `$#`, `$0`, `$1` … `$9`, `$@`, `$*`
11. Кавычки: `"`, `'`, ```
12. Простые арифметические операции: `expr`, `$(( ))`
13. Управление пользователями: `whoami`, `id`, `groups`
14. Права доступа к файлам: `chmod`, `chown`, `chgrp`
15. Проверка прав: `ls -l`, `stat`
16. История команд и автодополнение: `history`, `!!`, `!n`, `TAB`
17. Aliases и функции для упрощения команд
18. Комментарии в скриптах
19. Основы отладки скриптов: `set -x`, `set -e`
20. Создание первого простого скрипта и его запуск
21. Различия между интерактивным терминалом и скриптом
22. Основы логирования: вывод в файл
23. Условные конструкции для простых задач
24. Чтение ввода пользователя: `read`
25. Проверка существования файлов и каталогов

### **Практические задачи**

1. **Скрипт проверки системы**
   Вывести текущего пользователя, дату, uptime и размер занятого диска `/`.
   → Использовать `whoami`, `date`, `uptime`, `df -h`.
2. **Мониторинг свободного места**
   Проверить, если свободное место на `/` меньше 20%, вывести предупреждение в консоль и лог если больше 20% вывести "Все в порядке, места достаточно".
3. **Логирование всех команд**
   Написать скрипт, который выполняет команды из списка (`commands.txt`) и логирует результат (stdout и stderr).
4. **Создание структуры проекта**
   На вход — имя проекта. Скрипт создаёт каталоги `src`, `bin`, `logs`, `config` и файл `README.md`.
5. **Автоматическое резервное копирование**
   Архивировать указанный каталог в `backups/` с меткой времени.
   → Использовать `tar`, `date`, `mkdir -p`.
6. **Поиск больших файлов**
   Найти все файлы >100MB в `/home`, сохранить список в лог.
7. **Очистка временных файлов**
   Удалить все `.tmp` и `.log` старше 7 дней из `/tmp`, предварительно спросив подтверждение.
8. **Скрипт проверки сервиса**
   Проверить, запущен ли процесс (по имени). Если нет — вывести сообщение и записать в лог.
9. **Меню выбора действий**
   Написать интерактивное меню: резервное копирование, просмотр логов, выход.
10. **Счётчик строк в логах**
    Подсчитать количество строк, содержащих “error”, в лог-файлах каталога `/var/log/`.
11. **Сравнение файлов**
    Проверить, отличаются ли два конфигурационных файла (`cmp` или `diff`), вывести результат в лог.
12. **Генератор отчёта о системе**
    Сгенерировать `report.txt` с CPU, RAM, IP, uptime, количеством процессов.
13. **Проверка доступности сайтов**
    На вход — список URL. Проверить HTTP-код через `curl`, вывести статус (`OK` / `FAIL`).
14. **Архивирование по размеру**
    Если каталог >1ГБ, архивировать его, иначе просто вывести сообщение.
15. **Проверка прав доступа**
    Проверить, имеет ли текущий пользователь права на выполнение заданного файла.
16. **Мониторинг процессов DevOps**
    Проверить, запущены ли `nginx`, `docker`, `sshd`. Если чего-то нет — добавить в отчёт.
17. **Логирование и ротация логов**
    Создать скрипт, который каждую неделю архивирует старые логи и очищает каталог `/var/log/myapp/`.
18. **Проверка статуса контейнеров**
    Если `docker` установлен, вывести список работающих контейнеров, иначе вывести “Docker not installed”.
19. **Автоматическая настройка окружения**
    Проверить наличие утилит `git`, `curl`, `vim`. Если нет — предложить установить.
20. **Мониторинг нагрузки на CPU**
    Если нагрузка превышает 80% — записать событие в лог и вывести на экран.
21. **Проверка состояния сервера (комплекс)**
    Объединить проверки: диски, процессы, нагрузка, память — и вывести сводный отчёт в консоль и файл.
22. **Менеджер задач Bash**
    Написать мини-скрипт, который добавляет, удаляет и показывает задачи (todo-список) в файле.
23. **Финальное задание: DevOps-мини-утилита “syscheck”**
    Собрать всё вместе — написать скрипт, который:

    * Проверяет состояние системы и процессов,
    * Создаёт отчёт с логами и архивирует его,
    * Имеет параметры (`--short`, `--full`, `--help`),
    * Использует функции, условия, циклы и аргументы.

### **Уровень 2: Условия, логика и ветвления**

Цель: научиться управлять логикой выполнения скриптов с помощью условий, операторов сравнения и ветвлений, чтобы Bash-скрипты могли принимать решения на основе чисел, строк, файлов, процессов и пользовательского ввода.

**Теория:**

1. Операторы сравнения чисел: `-eq`, `-ne`, `-lt`, `-le`, `-gt`, `-ge`
2. Операторы сравнения строк: `==`, `!=`, `<`, `>`
3. Логические операторы: `&&`, `||`, `!`
4. Ветвления `if`, `elif`, `else`
5. Вложенные условия
6. Проверка существования файла: `-f`
7. Проверка существования каталога: `-d`
8. Проверка на пустоту файла: `-s`
9. Проверка прав доступа: `-r`, `-w`, `-x`
10. Использование `case`
11. Команды с возвратным кодом `$?`
12. Проверка количества аргументов `$#`
13. Использование `test` и `[ ]`
14. Проверка числовых диапазонов
15. Проверка переменной на пустоту
16. Сравнение строк с использованием регулярных выражений
17. Условные сокращения (`&& … || …`)
18. Чтение пользовательского ввода для условий
19. Проверка команд через `command -v`
20. Ветвления с `[[ … ]]`
21. Использование `let` и арифметических выражений внутри условий
22. Управление ошибками и уведомления об ошибках
23. Использование `if` для работы с процессами
24. Использование условий для работы с сетевыми командами

### **Практические задачи**

### Логические проверки и системные условия

1. Проверка существования файла и вывод его размера.
2. Проверка существования каталога `/var/log` и создание `/backup/logs`, если не существует.
3. Проверка пустоты лог-файла перед анализом.
4. Проверка доступности сайта через `curl` и запись статуса в лог.
5. Проверка, установлен ли `git`, `docker`, `curl` (через `command -v`).
6. Проверка количества аргументов для скрипта и вывод справки, если меньше 2.
7. Проверка прав пользователя: можно ли читать и выполнять файл.
8. Проверка, совпадает ли введённый пользователь с `root`.

### Ветвления и сценарии

9. Меню `case` с выбором: “Проверить диск”, “Проверить CPU”, “Проверить сеть”.
10. Проверка свободного места (`df -h`) и уведомление при низком уровне.
11. Проверка и автоматический перезапуск процесса `nginx` при падении.
12. Резервное копирование файла, если его размер превышает 1 МБ.
13. Проверка статуса последней команды и запись в `status.log`.
14. Проверка подключения к интернету (`ping 8.8.8.8 -c 1`).
15. Проверка переменной окружения `ENV` и установка значения по умолчанию.
16. Меню “backup / cleanup / exit” с использованием `case`.

### DevOps-комбинации

17. Проверка доступности нескольких сервисов (`nginx`, `docker`, `sshd`) с логированием.
18. Проверка портов (`22`, `80`, `443`) через `ss` или `nc`.
19. Проверка логов `/var/log/syslog` на наличие ошибок.
20. Проверка доступности API и возврат HTTP-кода.
21. Проверка нескольких хостов из списка (`hosts.txt`) в цикле.
22. Скрипт проверки сети, процессов и логов одновременно.
23. **Мини-проект:**
    Полноценный “health-check.sh”, который:
    * Проверяет сеть, процесс, лог, порт;
    * Выводит отчёт;
    * Ведёт лог;
    * Использует ветвления, условия, ввод, переменные и логику из обоих блоков.

## **Уровень 3: Циклы и функции**

**Цель:**
Освоить циклы и функции, научиться автоматизировать повторяющиеся действия, обрабатывать данные и создавать переиспользуемый код.

### **Теория**

1. Цикл `for` для чисел
2. Цикл `for` для файлов и строк
3. Цикл `while`
4. Цикл `until`
5. Вложенные циклы
6. Использование `break` и `continue`
7. Перебор массивов в циклах
8. Использование циклов для логирования
9. Циклы с условием (`while [ условие ]`)
10. Использование циклов для обработки пользовательского ввода
11. Циклы для работы с процессами
12. Циклы для работы с сетевыми командами
13. Введение в функции
14. Определение функций (`function_name() { … }`)
15. Вызов функций
16. Передача аргументов в функции (`$1`, `$2`)
17. Возврат значений через `return`
18. Возврат значений через `echo`
19. Локальные переменные внутри функций (`local`)
20. Глобальные переменные и области видимости
21. Использование функций для повторного кода
22. Использование функций для обработки ошибок
23. Вложенные функции
24. Отладка функций и циклов (`set -x`, `set -e`)

### **Практические задачи**

1. Напиши цикл `for`, который выведет числа от 1 до 10.
2. Цикл `for`, который перебирает все файлы в текущем каталоге и выводит их имена.
3. Скрипт, который считает количество строк в каждом `.log` файле каталога.
4. Скрипт для поиска строк, содержащих слово `error`, в логах всех `.log` файлов.
5. Функция `check_file()`, которая проверяет, существует ли файл.
6. Функция `backup_file()`, которая создаёт копию файла с добавлением даты.
7. Функция `log_message()`, которая добавляет сообщения в лог с отметкой времени.
8. Цикл, который вызывает функцию `log_message` для списка событий.
9. Цикл, который делает `curl`-запрос к сайту каждые 5 секунд и пишет статус в лог.
10. Скрипт с функцией `check_command()`, проверяющей, установлена ли команда (`command -v`).
11. Скрипт, который перебирает все каталоги в `/var/log` и архивирует их в `.tar.gz`.
12. Скрипт, который опрашивает пользователя, что архивировать, и вызывает соответствующую функцию.
13. Функция, которая принимает имя сервиса и проверяет, запущен ли он (`systemctl is-active`).
14. Функция, возвращающая код ошибки, если сервис не запущен (`return 1`).
15. Цикл, который вызывает `check_service` для списка сервисов и пишет результаты в лог.
16. Вложенные циклы: перебери каталоги и файлы внутри каждого, выводя их количество.
17. Скрипт, который создаёт резервные копии только файлов, изменённых за последние 24 часа.
18. Функция `show_menu()` с циклом выбора действий (просмотр логов, бэкап, выход).
19. Финальный проект уровня:
    **Создай скрипт “Smart Backup & Monitor”**, который:
    * проверяет наличие каталога для резервного копирования;
    * циклом проходит по всем `.conf` и `.log` файлам;
    * вызывает функции `backup_file` и `log_message`;
    * проверяет сервисы `nginx` и `mysql`;
    * сохраняет отчёт в лог с временем выполнения.

## **Уровень 4: Массивы, строки и регулярные выражения**

**Цель:**
Научиться эффективно работать с массивами, строками и шаблонами.
Использовать регулярные выражения, `grep`, `sed` и `awk` для анализа и обработки текстовых данных.

### **Теория**

1. Индексированные массивы: создание, доступ к элементам
2. Ассоциативные массивы
3. Добавление и удаление элементов массива
4. Длина массива и перебор элементов
5. Итерация по массиву в цикле
6. Массивы с аргументами скрипта (`$@`)
7. Строковые операции: конкатенация, подстрока
8. Изменение регистра: `${VAR,,}`, `${VAR^^}`
9. Удаление символов/шаблонов: `${VAR#}`, `${VAR##}`, `${VAR%}`, `${VAR%%}`
10. Подстановка значений по умолчанию: `${VAR:-default}`
11. Проверка пустой строки
12. Разделение строки на массив
13. Сравнение строк
14. Использование регулярных выражений в `[[ … =~ … ]]`
15. Использование `grep` для поиска шаблонов
16. Использование `sed` для замены текста
17. Использование `awk` для разбора строк
18. Подстановка результатов команд в переменные: `VAR=$(command)`
19. Форматирование вывода
20. Объединение массивов и строк
21. Фильтрация данных по шаблону
22. Проверка наличия элемента в массиве
23. Сортировка и уникальные элементы массива
24. Удаление пробелов и лишних символов

### **Практические задачи**

1. Создай массив всех файлов в текущем каталоге и выведи его содержимое.
2. Напиши цикл для перебора массива и вывода имени и размера каждого файла.
3. Скрипт для добавления и удаления элементов в массиве (через пользовательский ввод).
4. Скрипт, который считает количество элементов массива и выводит результат.
5. Скрипт, который меняет регистр текста в переменной (`VAR^^`, `VAR,,`).
6. Скрипт, который извлекает подстроку из строки (например, домен из URL).
7. Скрипт, который заменяет слово "error" на "warning" во всех `.log` файлах через `sed`.
8. Скрипт, который выводит строки с ключевым словом из всех логов (`grep -i`).
9. Скрипт, который разбирает CSV-файл (`users.csv`) и выводит только имена пользователей `(\awk -F, '{print \$1}'\)`.
10. Скрипт для объединения двух массивов и вывода результата.
11. Скрипт, который проверяет наличие элемента в массиве (например, имени файла).
12. Скрипт для сортировки элементов массива и вывода без дубликатов.
13. Скрипт, который удаляет дублирующиеся строки из файла.
14. Скрипт, который делит строку по разделителю (например, `:`) и создаёт из неё массив.
15. Скрипт для красивого форматирования вывода: имена пользователей + дата регистрации в колонках.
16. Скрипт для анализа `/etc/passwd` — вывести логины и домашние каталоги (`awk -F: '{print $1, $6}'`).
17. Скрипт для фильтрации процессов по имени (`ps aux | grep nginx`).
18. Скрипт, который ищет IP-адреса в логах с помощью регулярного выражения (`grep -Eo`).
19. Цикл, который проходит по массиву URL и проверяет статус каждого через `curl -s -o /dev/null -w "%{http_code}"`.
20. Скрипт, который заменяет текст в нескольких файлах по шаблону (например, `server_name old -> new`).
21. Скрипт, который логирует ошибки (`grep -i error`) и сохраняет их в отдельный файл.
22. Скрипт, который считает количество уникальных IP-адресов в логах.
23. Скрипт для фильтрации строк по нескольким ключевым словам (например, `error|critical`).
24. Скрипт для генерации отчёта: файл, количество строк, количество ошибок, дата.
25. Итоговый проект уровня:**
    Создай **скрипт “Log Analyzer Pro”**, который:
    * собирает все `.log` файлы в массив;
    * фильтрует строки по шаблону (`error|warning`);
    * извлекает IP-адреса;
    * сортирует и подсчитывает уникальные значения;
    * сохраняет отчёт в файл (`report.txt`);
    * форматирует вывод (таблица: IP — количество — время последнего появления).

## **Уровень 5: Работа с процессами, сетью и планировщиком задач**

**Цель:**
Научиться управлять процессами, проверять состояние сервисов, автоматизировать задачи с помощью `cron` и `systemd timers`, логировать и уведомлять о проблемах.

### **Теория**

1. Просмотр процессов: `ps`, `top`, `htop`, `pgrep`
2. Управление процессами: `kill`, `pkill`, `killall`
3. Нахождение процессов по имени или PID
4. Фоновый запуск команд: `&`, `nohup`
5. Проверка состояния команд и процессов (`$?`)
6. Приоритет процессов: `nice`, `renice`
7. Работа с логами процессов: `journalctl`, `tail -f`
8. Проверка сетевых соединений: `ping`, `curl`, `wget`
9. Проверка портов и соединений: `netstat`, `ss`
10. Диагностика сети: `traceroute`, `dig`, `nslookup`
11. Использование условий для проверки состояния процессов
12. Автоматическая проверка доступности веб-сервисов
13. Настройка планировщика задач `cron`
14. Синтаксис crontab: минуты, часы, дни, месяцы, дни недели
15. Работа с `systemd timers` как альтернативой cron
16. Настройка повторяющихся задач с интервалом
17. Логирование выполнения задач
18. Отправка уведомлений по завершению задач
19. Проверка выполнения команды и повтор при ошибке
20. Комбинирование циклов и планировщика задач
21. Использование скриптов для автоматизации обслуживания
22. Автоматическая очистка временных файлов
23. Мониторинг дискового пространства и уведомления
24. Отправка отчётов о состоянии сервиса

### **Практические задачи**

1. Скрипт для проверки запущенного процесса по имени и уведомления, если процесс не найден.
2. Скрипт для завершения процесса по PID с проверкой кода возврата.
3. Скрипт для запуска процесса в фоне с `nohup` и логированием вывода.
4. Скрипт для мониторинга CPU и памяти указанного процесса.
5. Скрипт для уведомления, если процесс превышает лимит памяти или CPU.
6. Скрипт для проверки открытых портов на локальной машине.
7. Скрипт для мониторинга логов в реальном времени (`tail -f`) с фильтром ключевых слов.
8. Скрипт для автоматической очистки временных файлов в каталоге `/tmp`.
9. Скрипт для архивации логов через cron с отметкой даты в имени файла.
10. Скрипт для резервного копирования каталога через cron с проверкой успешного выполнения.
11. Скрипт для планового запуска другого скрипта каждый день через cron.
12. Скрипт для проверки процесса и его перезапуска, если он не запущен (условия + циклы).
13. Скрипт для подсчета количества запущенных процессов определённого типа.
14. Скрипт для мониторинга сети и записи результатов ping и traceroute в файл.
15. Скрипт для проверки HTTP-кодов нескольких сайтов и уведомления о недоступных.
16. Скрипт с циклом по списку серверов и проверкой их доступности (ping + curl).
17. Скрипт для отправки уведомления на email/Telegram о завершении задачи или ошибке.
18. Скрипт для автоматической очистки старых бэкапов старше N дней.
19. Скрипт для автоматического удаления файлов старше N дней с логированием.
20. Итоговый комплексный проект:**
    Создай **мониторинговый скрипт**:
    * проверяет процесс/сервис и веб-сайт;
    * логирует результаты и ошибки в файл;
    * при падении или недоступности отправляет уведомление;
    * автоматически очищает старые лог-файлы и бэкапы;
    * выполняется по расписанию через `cron` или `systemd timer`.

## **Уровень 6. Итоговые проекты и комплексные скрипты**

**Цель:**
Объединить все изученные темы в практических проектах, приближённых к реальной работе DevOps-инженера и задачам на собеседованиях.

### **Проекты и задачи**

1. **Проект 1: Мониторинг веб-сервиса**

   * Проверка доступности сайта через `curl` и вывод HTTP-кода
   * Логирование состояния в файл
   * Уведомление при падении (email/Telegram)
   * Автоматический перезапуск сервиса при недоступности
   * Расширение: поддержка нескольких сайтов и отчёт по каждому
2. **Проект 2: Резервное копирование и архивация**

   * Создание бэкапа указанного каталога
   * Сжатие в `tar.gz` с добавлением даты в имя файла
   * Удаление старых архивов старше N дней
   * Настройка `cron` для автоматизации
   * Расширение: отправка бэкапов на удалённый сервер через `scp`
3. **Проект 3: Анализ и фильтрация логов**

   * Разбор лог-файлов с использованием `grep`, `awk`, `sed`
   * Подсчёт количества ошибок и предупреждений
   * Формирование отчёта в отдельный файл
   * Автоматизация анализа через `cron` или `systemd timer`
   * Расширение: фильтрация по дате, пользователю, процессу
4. **Проект 4: Интерактивные скрипты с вводом пользователя**

   * Меню выбора действий (`case`)
   * Опции: резервное копирование, мониторинг, очистка, проверка процессов
   * Проверка корректности введённых данных
   * Логирование действий пользователя
   * Расширение: работа с несколькими директориями и настройками
5. **Проект 5: Сборка комплексного DevOps-скрипта**

   * Проверка состояния процессов и перезапуск при падении
   * Мониторинг веб-сервиса (HTTP-коды + curl)
   * Резервное копирование критичных директорий
   * Очистка старых логов и бэкапов
   * Формирование отчёта и уведомление через email/Telegram
   * Расширение: поддержка конфигурационного файла с настройками
6. **Проект 6: Мониторинг сети и портов**

   * Проверка доступности нескольких серверов через `ping`
   * Проверка открытых портов с помощью `ss` или `netstat`
   * Логирование результатов с отметкой времени
   * Уведомление о недоступных серверах или закрытых портах
   * Расширение: циклическая проверка и повторная попытка подключения
7. **Проект 7: Автоматическое создание структуры проекта**

   * Создание каталогов и файлов по шаблону
   * Проверка наличия существующих файлов и резервное копирование
   * Логирование создания структуры
   * Расширение: поддержка параметров через аргументы скрипта
8. **Проект 8: Обработка CSV и лог-файлов**

   * Чтение CSV-файлов и извлечение нужных столбцов
   * Подсчёт количества уникальных значений
   * Формирование отчёта в текстовый файл
   * Расширение: фильтрация по шаблону и диапазону дат
9. **Проект 9: Скрипт «Системная диагностика»**

   * Сбор информации о процессах (`ps`, `top`)
   * Сбор информации о диске (`df -h`)
   * Проверка использования памяти
   * Логирование результатов
   * Расширение: отправка отчёта на email
10. **Проект 10: Автоматическое обновление приложений**

    * Проверка установленной версии приложения
    * Скачивание новой версии (если есть)
    * Установка и проверка успешного обновления
    * Логирование процесса
11. **Проект 11: Комплексный мониторинг ресурсов**

    * CPU, RAM, диск, сеть
    * Проверка лимитов и уведомления
    * Логирование и создание отчёта
12. **Проект 12: Автоматизация очистки логов и временных файлов**

    * Удаление файлов старше N дней
    * Архивация перед удалением
    * Логирование и уведомление
13. **Проект 13: Скрипт «Резервный сервер»**

    * Копирование файлов на удалённый сервер
    * Проверка успешности копирования
    * Логирование и уведомление
    * Расширение: поддержка нескольких серверов
14. **Проект 14: Веб-мониторинг с уведомлением и отчётом**

    * Проверка HTTP-кодов и времени ответа сайтов
    * Логирование в файл
    * Отправка отчёта по завершении проверки
15. **Проект 15: Комплексная обработка логов и ошибок**

    * Поиск ошибок, предупреждений и критичных событий
    * Формирование отчёта с фильтрацией и подсчётом
    * Уведомление при превышении порога ошибок
16. **Проект 16: Скрипт уведомления при падении сервиса**

    * Проверка доступности сервиса
    * Повторная попытка запуска
    * Уведомление через email/Telegram
17. **Проект 17: Архивирование и очистка логов с уведомлением**

    * Архивация старых логов
    * Удаление после архивации
    * Логирование и уведомление
18. **Проект 18"": Система самодиагностики сервера.**

    Создать умный Bash-скрипт, который проверяет ключевые метрики системы и сам решает, что делать при сбоях.

    **Функционал:**

    1. Проверка загрузки CPU, RAM, диска, swap (`top`, `free`, `df`).
    2. Проверка доступности критичных сервисов (nginx, mysql, ssh и др.).
    3. Проверка сетевого соединения (внешний пинг, DNS-тест).
    4. Логирование всех метрик с временными метками.
    5. Отправка уведомления при превышении порогов (email/Telegram).
    6. Автоматический перезапуск зависших сервисов.
    7. Генерация HTML-отчёта (`report.html`) с метками “OK / WARNING / FAIL”.

    **Расширение:** интеграция с `cron` — ежедневный отчёт + журнал `/var/log/auto_health/`.
19. **Проект 19"": Интеллектуальный лог-анализатор (`smart_logwatch.sh`)**

    Написать расширенный инструмент, который анализирует системные и веб-логи, выявляет проблемы и формирует статистику.

    Функционал:

    1. Поиск ошибок в `/var/log/syslog`, `/var/log/nginx/error.log`.
    2. Классификация ошибок по типам (WARNING, ERROR, CRITICAL).
    3. Подсчёт количества каждой категории.
    4. Формирование текстового и CSV-отчёта.
    5. Подсветка “новых” ошибок (по сравнению с прошлым запуском).
    6. Уведомление при росте количества ошибок > N% (через Telegram API).
    7. Архивация старых логов при каждом запуске.

    **Расширение:** добавить аргументы командной строки:

    <pre class="overflow-visible!" data-start="1796" data-end="1862"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-bash"><span><span>./smart_logwatch.sh -p /var/log/nginx -d 7 -a telegram
    </span></span></code></div></div></pre>

    (где `-d` — глубина в днях, `-a` — метод оповещения)
20. **Проект 20"": Мини-CI система на Bash (`bash-ci.sh`)**

    **Идея:** симуляция CI/CD процесса без Jenkins или GitHub Actions — всё на чистом Bash.

    **Функционал:**

    1. Отслеживание изменений в Git-репозитории (`git log`, `git diff`).
    2. Автоматическая сборка проекта (например, `docker build`).
    3. Проверка синтаксиса скриптов (`bash -n`, `shellcheck`).
    4. Тестовый деплой в локальную директорию.
    5. Логирование всех шагов и итоговый отчёт.
    6. Отправка уведомления о статусе сборки (OK/FAIL).
    7. Поддержка нескольких окружений (`dev`, `staging`, `prod`).

    **Расширение:**

    * Конфигурация через `ci.conf` (определяет команды для каждого шага).
